<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ped‚ÄôIA ‚Äî Suivi & √©volution 0‚Äì7 ans</title>
    <meta name="description" content="Ped‚ÄôIA: Suivi du d√©veloppement 0‚Äì7 ans, conseils IA et communaut√© pour parents." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="assets/style.css?v=4" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="#/">
          <span class="brand-text">Ped‚ÄôIA</span>
        </a>
        <button id="nav-toggle" class="nav-toggle" aria-controls="main-nav" aria-expanded="false" title="Menu">‚ò∞</button>
        <nav id="main-nav" class="main-nav" aria-label="Navigation principale">
          <a href="#/" class="nav-link"><span class="nav-ico">üè†</span><span>Accueil</span></a>
          <a href="#/dashboard" class="nav-link"><span class="nav-ico">üìä</span><span>Dashboard</span></a>
          <a href="#/community" class="nav-link"><span class="nav-ico">üí¨</span><span>Communaut√©</span></a>

          <a href="#/about" class="nav-link"><span class="nav-ico">‚ÑπÔ∏è</span><span>√Ä propos</span></a>
          <a href="#/ai" class="nav-link"><span class="nav-ico">ü§ñ</span><span>Fonctionnalit√© IA</span></a>
          <a href="#/settings" class="nav-link"><span class="nav-ico">‚öôÔ∏è</span><span>Param√®tres</span></a>
        </nav>
        <div class="auth-actions">
          <span id="login-status" class="login-status" hidden>connect√©</span>
          <button id="btn-login" class="btn btn-secondary">Se connecter</button>
          <button id="btn-logout" class="btn btn-secondary" hidden>Se d√©connecter</button>
        </div>
      </div>
    </header>

    <div class="masthead">
      <div class="container">
        <div class="masthead-inner">Ped‚ÄôIA ‚Äî votre p√©diatre digital</div>
      </div>
    </div>

    <div id="nav-backdrop" class="nav-backdrop" aria-hidden="true"></div>

    <main id="app" class="container">
      <!-- Accueil -->
      <section data-route="/" class="route">
        <div class="hero">
          <div class="hero-content">
            <div class="hero-copy">
              <h1 class="hero-title">Votre copilote parental, clair et rassurant</h1>
              <p class="lead">suivez l‚Äô√©volution de vos enfants avec votre p√©diatre virtuel √† port√©e de mains 24h/24</p>
              <div class="hero-actions">
                <a href="#/signup" class="btn btn-primary">Cr√©er le profil de mon enfant</a>
                <a href="#/ai" class="btn btn-secondary">Voir les outils</a>
              </div>
              <div class="hero-stats">
                <div class="stat"><strong>0‚Äì7 ans</strong><span>Rep√®res adapt√©s</span></div>
                <div class="stat"><strong>IA</strong><span>Conseils contextuels</span></div>
                <div class="stat"><strong>Local</strong><span>Donn√©es chez vous</span></div>
              </div>
            </div>
            <div class="hero-visual" aria-hidden="true">
              <img src="/famille.png" alt="Famille" class="hero-image" loading="eager" />
            </div>
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Fonctionnalit√©s cl√©s</h2>
          <p class="section-subtitle">Les outils essentiels pour un suivi simple et rassurant.</p>
          <div class="features">
            <div class="feature">
              <div class="feature-ico">üìà</div>
              <h3>Courbes de croissance</h3>
              <p>Suivi taille/poids avec rep√®res OMS int√©gr√©s.</p>
            </div>
            <div class="feature">
              <div class="feature-ico">üß†</div>
              <h3>Conseils IA</h3>
              <p>R√©ponses contextualis√©es et structur√©es en puces.</p>
            </div>
            <div class="feature">
              <div class="feature-ico">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
              <h3>Communaut√©</h3>
              <p>Partagez exp√©riences et astuces entre parents.</p>
            </div>
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Comment √ßa marche ?</h2>
          <p class="section-subtitle">Trois √©tapes claires pour d√©marrer en douceur.</p>
          <div class="steps">
            <div class="step">
              <div class="step-num">1</div>
              <h3>Cr√©ez un profil</h3>
              <p>Renseignez l‚Äô√¢ge, le contexte et les jalons.</p>
            </div>
            <div class="step">
              <div class="step-num">2</div>
              <h3>Ajoutez des mesures</h3>
              <p>Suivez taille, poids, sommeil et petites dents.</p>
            </div>
            <div class="step">
              <div class="step-num">3</div>
              <h3>Obtenez des conseils</h3>
              <p>Posez vos questions √† l‚ÄôIA et √©changez.</p>
            </div>
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Ils en parlent</h2>
          <p class="section-subtitle">Des retours de parents qui utilisent Ped‚ÄôIA au quotidien.</p>
          <div class="testimonials">
            <div class="testimonial">
              <p>‚ÄúInterface douce et hyper claire ‚Äî on se sent accompagn√©s.‚Äù</p>
              <div class="who">L√©a, maman de Zo√© (2 ans)</div>
            </div>
            <div class="testimonial">
              <p>‚ÄúLes courbes et badges motivent vraiment √† suivre l‚Äô√©volution.‚Äù</p>
              <div class="who">Karim, papa de Nino (4 ans)</div>
            </div>
            <div class="testimonial">
              <p>‚ÄúL‚ÄôIA rassure, et rappelle quand consulter si besoin.‚Äù</p>
              <div class="who">Pauline, maman de Lucas (8 mois)</div>
            </div>
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">FAQ</h2>
          <p class="section-subtitle">Les r√©ponses aux questions les plus fr√©quentes.</p>
          <div class="faq">
            <details class="faq-item"><summary>Mes donn√©es sont‚Äëelles priv√©es ?</summary><p>Oui. Par d√©faut, tout est stock√© localement dans votre navigateur. Vous pouvez exporter/supprimer vos donn√©es √† tout moment.</p></details>
            <details class="faq-item"><summary>Ped‚ÄôIA donne‚Äët‚Äëil des diagnostics ?</summary><p>Non. Les conseils sont indicatifs et ne remplacent pas un avis m√©dical.</p></details>
            <details class="faq-item"><summary>Puis‚Äëje suivre plusieurs enfants ?</summary><p>Oui, ajoutez autant de profils que n√©cessaire dans Param√®tres.</p></details>
          </div>
        </div>

        <div class="cta-banner">
          <div class="cta-inner">
            <h3>Pr√™t¬∑e √† commencer ?</h3>
            <p>Cr√©ez un profil en 1 minute et suivez les premi√®res √©tapes.</p>
            <a class="btn btn-primary" href="#/signup">Cr√©er un compte</a>
          </div>
        </div>
      </section>

      <!-- Auth: Connexion / Cr√©ation de compte -->
      <section data-route="/signup" class="route">
        <div class="page-header">
          <h2>Cr√©er un compte</h2>
          <p class="page-subtitle">Connexion s√©curis√©e via Google pour retrouver vos donn√©es partout.</p>
        </div>
        <div class="card stack">
          <button class="btn btn-primary btn-google-login" type="button">Se connecter avec Google</button>
          <p class="muted">En vous connectant, votre profil est associ√© √† votre compte Google. Vos donn√©es sont stock√©es dans Supabase.</p>
          <div id="auth-debug-signup" class="muted"></div>
        </div>
      </section>

      <section data-route="/login" class="route">
        <div class="page-header">
          <h2>Se connecter</h2>
          <p class="page-subtitle">Acc√©dez √† votre espace avec Google.</p>
        </div>
        <div class="card stack">
          <button class="btn btn-primary btn-google-login" type="button">Se connecter avec Google</button>
          <p class="muted">Besoin d‚Äôun compte ? Utilisez aussi ‚ÄúSe connecter avec Google‚Äù.</p>
          <div id="auth-debug-login" class="muted"></div>
        </div>
      </section>

      <!-- Onboarding enfant -->
      <section data-route="/onboarding" class="route">
        <div class="page-header">
          <h2>Cr√©er le profil de l‚Äôenfant</h2>
          <p class="page-subtitle">Renseignez les informations cl√©s pour des conseils adapt√©s.</p>
        </div>
        <form id="form-child" class="card form-grid" autocomplete="on">
          <h3>Informations de base</h3>
          <label>Pr√©nom<input type="text" name="firstName" required /></label>
          <label>Sexe
            <select name="sex" required>
              <option value="fille">Fille</option>
              <option value="gar√ßon">Gar√ßon</option>
            </select>
          </label>
          <label>Date de naissance<input type="date" name="dob" required /></label>
          <label>Taille (cm)<input type="number" step="0.1" name="height" /></label>
          <label>Poids (kg)<input type="number" step="0.01" name="weight" /></label>
          <label>Dents (nb)<input type="number" step="1" name="teeth" /></label>
          <label>Photo/avatar<input type="file" name="photo" accept="image/*" /></label>

          <h3>Contexte</h3>
          <label>Allergies<input type="text" name="allergies" placeholder="Arachides, pollen‚Ä¶" /></label>
          <label>Ant√©c√©dents<input type="text" name="history" placeholder="Familiaux, m√©dicaux‚Ä¶" /></label>
          <label>Mode de garde<input type="text" name="care" placeholder="Cr√®che, nounou, maison‚Ä¶" /></label>
          <label>Langues parl√©es<input type="text" name="languages" placeholder="Fran√ßais, anglais‚Ä¶" /></label>

          <h3>Habitudes alimentaires</h3>
          <label>Type d‚Äôalimentation
            <select name="feedingType">
              <option value="">‚Äî</option>
              <option value="allaitement_exclusif">Allaitement exclusif</option>
              <option value="mixte_allaitement_biberon">Mixte (allaitement + biberon)</option>
              <option value="allaitement_diversification">Diversification + allaitement</option>
              <option value="biberon_diversification">Biberon + diversification</option>
              <option value="lait_poudre_vache">Lait en poudre / lait de vache</option>
            </select>
          </label>
          <label>App√©tit / fa√ßon de manger
            <select name="eatingStyle">
              <option value="">‚Äî</option>
              <option value="mange_tres_bien">Mange tr√®s bien</option>
              <option value="appetit_variable">App√©tit variable</option>
              <option value="selectif_difficile">S√©lectif / difficile</option>
              <option value="petites_portions">Petites portions</option>
            </select>
          </label>

          <h3>Sommeil</h3>
          <label>Endormissement
            <select name="sleep_falling">
              <option value="">‚Äî</option>
              <option value="facile">Facile</option>
              <option value="moyen">Moyen</option>
              <option value="difficile">Difficile</option>
            </select>
          </label>
          <label>Nuits compl√®tes
            <select name="sleep_through">
              <option value="">‚Äî</option>
              <option value="oui">Oui</option>
              <option value="non">Non</option>
            </select>
          </label>
          <label>R√©veils nocturnes
            <select name="sleep_wakings">
              <option value="">‚Äî</option>
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3+">3+</option>
            </select>
          </label>
          <label>Dur√©e des √©veils nocturnes
            <select name="sleep_wake_duration">
              <option value="">‚Äî</option>
              <option value="<5min">Moins de 5 min</option>
              <option value="5-15min">5‚Äì15 min</option>
              <option value="15-30min">15‚Äì30 min</option>
              <option value="30-60min">30‚Äì60 min</option>
              <option value=">60min">Plus de 60 min</option>
            </select>
          </label>
          <label>Heure du coucher (approx.)
            <input type="time" name="sleep_bedtime" />
          </label>

          <h3>Questionnaire d√©veloppement (10)</h3>
          <div class="qgrid" id="dev-questions"></div>

          <button type="submit" class="btn btn-primary">Enregistrer le profil</button>
        </form>
      </section>

      <!-- Dashboard -->
      <section data-route="/dashboard" class="route">
        <div class="page-header">
          <h2>Dashboard</h2>
          <p class="page-subtitle">Vue d‚Äôensemble du profil et du suivi.</p>
        </div>
        <div id="dashboard-content"></div>
      </section>

      <!-- Communaut√© -->
      <section data-route="/community" class="route">
        <div class="page-header">
          <h2>Communaut√©</h2>
          <p class="page-subtitle">√âchangez conseils et exp√©riences avec d‚Äôautres parents.</p>
        <div class="page-actions">
            <div id="forum-cats" class="hstack">
              <button class="btn btn-secondary cat" data-cat="all">Tous</button>
              <button class="btn btn-secondary cat" data-cat="Sommeil">Sommeil</button>
              <button class="btn btn-secondary cat" data-cat="Alimentation">Alimentation</button>
              <button class="btn btn-secondary cat" data-cat="D√©veloppement">D√©veloppement</button>
              <button class="btn btn-secondary cat" data-cat="Divers">Divers</button>
            </div>
            <button id="btn-new-topic" class="btn btn-primary">Nouveau sujet</button>
          </div>
        </div>
        <div id="forum-list" class="stack"></div>
        <dialog id="dialog-topic" class="dialog">
          <form method="dialog" id="form-topic" class="form-grid">
            <h3>Nouveau sujet</h3>
            <label>Cat√©gorie
              <select name="category">
                <option value="Sommeil">Sommeil</option>
                <option value="Alimentation">Alimentation</option>
                <option value="D√©veloppement">D√©veloppement</option>
                <option value="Divers" selected>Divers</option>
              </select>
            </label>
            <label>Titre<input name="title" required /></label>
            <label>Message<textarea name="content" rows="4" required></textarea></label>
            <menu class="dialog-actions">
              <button value="cancel" id="btn-cancel-topic" class="btn btn-secondary">Annuler</button>
              <button value="submit" class="btn btn-primary">Publier</button>
            </menu>
          </form>
        </dialog>
      </section>

      

      <!-- √Ä propos -->
      <section data-route="/about" class="route">
        <div class="stack">
          <div class="page-header">
            <h2>√Ä propos de Ped‚ÄôIA</h2>
            <p class="page-subtitle">Notre mission: un accompagnement bienveillant et clair pour les parents.</p>
          </div>
          <div class="card stack">
            <p>Ped‚ÄôIA est un projet qui vise √† offrir aux parents un espace simple, beau et utile pour suivre l‚Äô√©volution des enfants de 0 √† 7 ans.</p>
            <p>Notre approche : sobri√©t√©, bienveillance et respect des donn√©es. Nous combinons des rep√®res publics (OMS) et un assistant IA pour vous guider, sans jamais remplacer les professionnels de sant√©.</p>
          </div>
        </div>
      </section>

      <!-- Fonctionnalit√© IA -->
      <section data-route="/ai" class="route">
        <div class="page-header">
          <h2>Fonctionnalit√© IA</h2>
          <p class="page-subtitle">Des outils personnalis√©s selon l‚Äô√¢ge, les allergies et les infos de votre espace membre.</p>
        </div>

          <div class="stack">
            <div class="card stack">
              <div class="card-header">
                <h3>Recettes personnalis√©es</h3>
                <p class="muted">Propositions adapt√©es √† l‚Äô√¢ge, aux allergies et aux pr√©f√©rences (issues de votre profil et de celui de l‚Äôenfant).</p>
              </div>
              <form id="form-ai-recipes" class="form-grid">
                <label>Pr√©f√©rences / contraintes (optionnel)
                  <input type="text" name="prefs" placeholder="Ex: v√©g√©tarien, sans gluten, sans lait‚Ä¶" />
                </label>
                <div class="hstack">
                  <button class="btn btn-primary" type="submit">G√©n√©rer des recettes</button>
                  <span id="ai-recipes-status" class="muted"></span>
                </div>
              </form>
              <div id="ai-recipes-result" class="card"></div>
              <div class="hstack">
                <a class="btn btn-secondary" href="#/onboarding">Mettre √† jour allergies</a>
                <a class="btn btn-secondary" href="#/settings">Mettre √† jour pr√©f√©rences</a>
              </div>
            </div>

          <div class="card stack">
            <div class="card-header">
              <h3>G√©n√©rateur d‚Äôhistoires personnalis√©es</h3>
              <p class="muted">Des histoires courtes adapt√©es √† l‚Äô√¢ge, au pr√©nom et aux centres d‚Äôint√©r√™t de l‚Äôenfant.</p>
            </div>
            <form id="form-ai-story" class="form-grid">
              <label>Th√®me (optionnel)
                <input type="text" name="theme" placeholder="Ex: animaux, espace, pirates‚Ä¶" />
              </label>
              <label>Dur√©e
                <select name="duration">
                  <option value="1">1 min</option>
                  <option value="3" selected>3 min</option>
                  <option value="5">5 min</option>
                </select>
              </label>
              <label class="switch">
                <input type="checkbox" name="sleepy" />
                <span>Mode dodo (apaisant)</span>
              </label>
              <div class="hstack">
                <button class="btn btn-primary" type="submit">G√©n√©rer l‚Äôhistoire</button>
                <span id="ai-story-status" class="muted"></span>
              </div>
            </form>
            <div id="ai-story-result" class="card"></div>
          </div>

          <div class="card stack">
            <div class="card-header">
              <h3>Chatbot personnalis√©</h3>
              <p class="muted">Un assistant qui tient compte de l‚Äô√¢ge, des jalons et du contexte (garde, langues, ant√©c√©dents) renseign√©s.</p>
            </div>
            <button id="ai-chat-reset" class="btn btn-secondary chat-reset" type="button">R√©initialiser la discussion</button>
            <div class="chat-window">
              <div id="ai-chat-messages" class="chat-messages"></div>
              <form id="form-ai-chat" class="chat-input" autocomplete="off">
                <div class="chat-row">
                  <textarea name="q" class="chat-textarea" rows="1" placeholder="√âcrire un message‚Ä¶ (Entr√©e pour envoyer, Shift+Entr√©e = retour)" required></textarea>
                  <button class="btn btn-primary chat-send" type="submit">Envoyer</button>
                </div>
                <div class="chat-actions">
                  <span id="ai-chat-status" class="muted"></span>
                </div>
              </form>
            </div>
          </div>

        </div>
      </section>

      <!-- Contact -->
      <section data-route="/contact" class="route">
        <div class="page-header">
          <h2>Contact</h2>
          <p class="page-subtitle">Une question, une id√©e ? √âcrivez‚Äënous.</p>
        </div>
        <form id="form-contact" class="card form-grid">
          <label>Votre email<input type="email" name="email" required /></label>
          <label>Objet<input type="text" name="subject" required /></label>
          <label>Message<textarea name="message" rows="5" required></textarea></label>
          <button type="submit" class="btn btn-primary">Envoyer</button>
          <p class="muted">Nous enregistrons votre message localement (d√©mo) ‚Äî aucune donn√©e transmise.</p>
          <div id="contact-status" class="muted"></div>
        </form>
      </section>

      <!-- Mentions & confidentialit√© -->
      <section data-route="/legal" class="route">
        <div class="page-header">
          <h2>Mentions l√©gales & Confidentialit√©</h2>
          <p class="page-subtitle">Rappels importants et traitement des donn√©es.</p>
        </div>
        <div class="card stack">
          <p>Ped‚ÄôIA n‚Äôest pas un dispositif m√©dical. Les informations fournies sont indicatives et ne remplacent pas l‚Äôavis d‚Äôun professionnel de sant√©.</p>
          <p>Vos donn√©es demeurent sur votre appareil, sauf si vous les exportez volontairement. En cas de publication dans la communaut√©, √©vitez toute donn√©e sensible.</p>
        </div>
      </section>

      <!-- Param√®tres -->
      <section data-route="/settings" class="route">
        <div class="page-header">
          <h2>Param√®tres</h2>
          <p class="page-subtitle">Profil, confidentialit√© et gestion multi‚Äëenfants.</p>
        </div>
        <div class="grid-2">
          <form id="form-settings" class="card form-grid">
            <h3>Profil parent</h3>
            <label>R√¥le affich√©
              <select name="role">
                <option value="maman">Maman</option>
                <option value="papa">Papa</option>
              </select>
            </label>
            <h3>Confidentialit√©</h3>
            <label class="switch">
              <input type="checkbox" name="showStats" />
              <span>Afficher stats dans la communaut√©</span>
            </label>
            <label class="switch">
              <input type="checkbox" name="allowMessages" />
              <span>Autoriser r√©ponses √† mes sujets</span>
            </label>
            <button class="btn btn-primary" type="submit">Enregistrer</button>
          </form>

          <div class="card stack">
            <h3>Gestion multi‚Äëenfants</h3>
            <div id="children-list" class="stack"></div>
            <div id="child-edit" class="stack"></div>
            <a class="btn btn-secondary" href="#/onboarding">Ajouter un profil enfant</a>
            <h3>Export & compte</h3>
            <div class="hstack">
              <button id="btn-export" class="btn btn-secondary">Exporter (JSON)</button>
              <input id="input-import" type="file" accept="application/json" class="hidden" />
              <button id="btn-import" class="btn btn-secondary">Importer (JSON)</button>
              <button id="btn-delete-account" class="btn btn-danger">Supprimer le compte</button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container">
        <div class="footer-grid">
          <div class="f-brand">
            <a class="brand" href="#/">
              <span class="logo">ü§ñüë∂</span>
              <span class="brand-text">Ped‚ÄôIA</span>
            </a>
            <p class="f-tag">Le copilote parental 0‚Äì7 ans: courbes, jalons, sommeil et conseils IA dans une interface apais√©e.</p>
          </div>
          <div class="f-col">
            <div class="f-title">Produit</div>
            <a class="f-link" href="#/">Accueil</a>
            <a class="f-link" href="#/dashboard">Dashboard</a>
            
            <a class="f-link" href="#/community">Communaut√©</a>
          </div>
          <div class="f-col">
            <div class="f-title">Ressources</div>
            <a class="f-link" href="#/about">√Ä propos</a>
            <a class="f-link" href="#/contact">Contact</a>
            <a class="f-link" href="#/">FAQ</a>
          </div>
          <div class="f-col">
            <div class="f-title">L√©gal</div>
            <a class="f-link" href="#/legal">Mentions l√©gales</a>
            <a class="f-link" href="#/legal">Confidentialit√©</a>
          </div>
        </div>
        <div class="footer-bottom">
          <div class="fb-left">¬© <span id="y"></span> Ped‚ÄôIA</div>
          <div class="fb-right">
            <span class="fb-note">Infos indicatives, pas de conseil m√©dical</span>
          </div>
        </div>
      </div>
      
    </footer>

    <script type="module" src="assets/app.js?v=2"></script>
  </body>
  </html>
