:root{
  /* Pastel clair: bleu, rose, blanc */
  --violet:#8ab6ff; /* bleu pastel */
  --violet-strong:#6ea3ff;
  --turquoise:#ffc2d6; /* rose pastel */
  --orange:#ffcba4; /* pêche douce (charts) */
  --orange-strong:#ff9640; /* orange soutenu pour titres */
  --deep-blue:#7fb2ff; /* bleu pastel doux (ancien #0a316d éclairci) */
  --blue-pastel:#b7d3ff; /* bleu pastel doux pour dégradé */
  --blue-strong:#4e7cd8; /* bleu un peu plus soutenu pour titres */
  --rose:#ffb3d1;
  --orange-soft:#ffe1c8; /* orange très pastel pour nuances */
  --bg:#000000; /* fond noir */
  --panel:#ffffff;
  --panel-strong:#ffffff;
  --muted:rgba(255,255,255,.72); /* muted text: soft white */
  --text:#ffffff;  /* global text color white */
  --text-inverse:#ffffff;
  --border:rgba(255,255,255,.18);
  --danger:#ef476f;
  --ok:#2dc07a;
  --shadow:0 4px 12px rgba(30,50,100,.08);
  --section-alt:transparent; /* pas d'alternance en mode fond noir */
}
/* Self-hosted Inter font (Latin subset) */
@font-face {
  font-family: "Inter";
  src: url("/assets/fonts/inter-latin-400-normal.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Inter";
  src: url("/assets/fonts/inter-latin-600-normal.woff2") format("woff2");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Inter";
  src: url("/assets/fonts/inter-latin-700-normal.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
*{box-sizing:border-box}
html,body{height:100%; overflow-x:hidden}
body{
  margin:0;
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
  line-height:1.6;
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
/* Ensure images never overflow containers on small screens */
img{max-width:100%; height:auto}
section{opacity:.8}
.container{width:min(1100px,92%); margin-inline:auto}
.site-header{position:sticky; top:0; background:rgba(0,0,0,.6); backdrop-filter:saturate(160%) blur(12px); border-bottom:1px solid rgba(255,255,255,.12); z-index:100; box-shadow:0 8px 18px rgba(0,0,0,.35)}
.header-inner{display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:10px; padding:8px 0; height:64px}
.brand, .auth-actions, .nav-toggle{flex-shrink:0}
.main-nav{min-width:0; white-space:nowrap; flex-wrap:nowrap; justify-content:center; justify-self:center}
.nav-toggle{display:none; align-items:center; justify-content:center; width:40px; height:40px; border-radius:12px; border:1px solid transparent; background:linear-gradient(92deg, var(--orange-strong), var(--blue-strong)); color:#ffffff; box-shadow:0 6px 16px rgba(78,124,216,.32), 0 3px 10px rgba(255,170,110,.30); cursor:pointer}
.nav-toggle:hover{filter:brightness(1.05); box-shadow:0 10px 22px rgba(78,124,216,.42), 0 6px 14px rgba(255,170,110,.34)}
.brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--orange-strong) !important}
.brand-logo{display:inline-block; height:clamp(24px, 3.6vw, 34px); width:auto}
.brand-text-logo {
  display: inline-block;
  height: clamp(14px, 2.5vw, 22px);
  width: auto;
}
.logo{font-size:22px}
.brand-text{font-weight:800; letter-spacing:.3px}
.brand-synap{color:var(--orange-strong)}
.brand-kids{color:var(--violet-strong)}
.brand .logo{display:none}
@media(max-width:900px){
  .brand .logo{display:inline}
}
.main-nav{display:flex; gap:6px; flex-wrap:nowrap}
.main-nav .nav-link{display:flex; align-items:center; gap:6px; padding:8px 12px; border-radius:12px; text-decoration:none; color:var(--orange-strong) !important; opacity:.95; transition:all .2s ease}
.main-nav .nav-link:hover{background:rgba(255,255,255,.08); transform:translateY(-1px)}
.nav-ico{font-size:16px}
/* Hide emojis in desktop header; show in mobile menu only */
.main-nav .nav-ico{display:none}
@media (min-width:901px){
  .main-nav .nav-link span:last-child{font-weight:700;}
}
.auth-actions{display:flex; gap:8px; justify-content:flex-end; flex-wrap:nowrap}
.auth-actions{align-items:center}
/* Prevent wrapping inside auth area to keep header height fixed */
.auth-actions .btn, .auth-actions .login-status{white-space:nowrap}
/* Ensure hamburger is always the rightmost inside auth-actions */
.auth-actions #nav-toggle{order:99; margin-left:8px}
.auth-actions #btn-login, .auth-actions #btn-logout, .auth-actions #login-status{order:1}
.login-status{display:flex; align-items:center; gap:4px; color:var(--ok); font-weight:600; text-transform:capitalize}
.login-status[hidden]{display:none}

/* Fallback mobile header before JS loads */
@media(max-width:900px){
  body.no-js .nav-toggle{display:inline-flex}
  body.no-js .main-nav{display:none}
}

.site-footer{border-top:1px solid rgba(255,255,255,.12); margin-top:56px; background:#000000; color:#e9edff}
.site-footer .container{padding:24px 0}
.site-footer .brand-synap{color:var(--blue-strong); font-weight:700}
.site-footer .brand-kids{color:var(--orange-strong); font-weight:700}
/* New simple footer (no patch-styled links) */
.footer-simple{display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap}
.fs-left{display:flex; align-items:center; gap:10px}
.fs-tag{margin:0; color:var(--muted)}
.fs-right{display:flex; align-items:center; gap:14px; flex-wrap:wrap}
.fs-link{color:#e9edff; text-decoration:none; opacity:.9}
.fs-link:hover{text-decoration:underline}
.fs-year{color:#aab3d1}
.footer-simple + .footer-simple{margin-top:8px}

/* Sub‑header tagline */
.masthead{background:transparent; border-bottom:none; backdrop-filter:none; position:static; top:auto; z-index:auto; margin:0}
@media(max-width:900px){.masthead{margin:2px 0 0}}
.masthead-inner{
  padding:6px 0; text-align:center; font-weight:600; letter-spacing:.2px;
  font-size:clamp(14px, 1.8vw, 18px);
  color:var(--muted);
}
/* Supprime totalement le brand-logo */
.brand-logo {
  display: none !important;
}

/* Logo sous le texte de la sous-entête */
.masthead-logo {
  display:block;
  margin:6px auto 0;
  height:clamp(84px, 12vmin, 220px);
  width:auto;
}

/* Mobile: ajustement des logos */
@media(max-width:900px){
  .brand-text-logo { 
    height: clamp(18px, 4.5vw, 28px); /* réduit sur mobile */
  }
  .masthead-logo { 
    height: clamp(160px, 35vw, 340px); /* augmenté sur mobile */
  }
}






/* Keep header single-row at all widths; overflow handled via JS (force-mobile) */
/* Removed two-row layout to preserve constant header thickness */

/* Backdrop for mobile menu */
.nav-backdrop{position:fixed; inset:0; background:rgba(0,0,0,.25); backdrop-filter:blur(2px); z-index:8; opacity:0; pointer-events:none; transition:opacity .3s ease}
.nav-backdrop.open{opacity:1; pointer-events:auto}

/* Page top logo (all pages except home) */
.page-logo{padding:6px 0 2px; background:transparent}
.page-logo .container{display:grid; place-items:center; position:relative}
.page-logo-img{display:block; height:clamp(120px, 16vw, 280px); width:auto}
.page-logo-img{position:relative; z-index:1}

/* Reduce gap between top logo and first content when logo is visible */
#page-logo:not([hidden]) ~ main .route.active{ padding-top:12px }
#page-logo:not([hidden]) ~ main .page-header{ margin-top:0 }

.hero{position:relative; padding:4px 0 28px; margin-bottom:16px; overflow:hidden}
@media(max-width:900px){.hero{padding:4px 0 6px; margin-bottom:2px}}
.hero-content{display:grid; grid-template-columns:1.05fr .95fr; align-items:center; gap:24px}
@media(max-width:900px){.hero-content{grid-template-columns:1fr}}
.hero-canvas{position:absolute; inset:0; width:100%; height:100%; pointer-events:none; z-index:0; opacity:.9}
.hero-content{position:relative; z-index:2}
/* Ensure hero visuals and UI always sit above the canvas */
.hero-visual{position:relative; z-index:2}
.hero .btn{position:relative; z-index:3}
.hero h1{font-size:clamp(32px, 5.4vw, 56px); margin:0 0 8px; letter-spacing:.2px; font-weight:800; line-height:1.18}
.hero-title{
  background:linear-gradient(90deg, var(--orange-strong), var(--blue-strong));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:0 1px 5px rgba(255,203,164,.22), 0 1px 10px rgba(78,124,216,.18);
  font-weight:800;
  letter-spacing:.3px;
  position:relative;
  display:inline-block;
}
.hero-title::after{
  content:"";
  display:block;
  height:4px;
  width:42%;
  margin-top:10px;
  border-radius:999px;
  background:linear-gradient(90deg, var(--orange-soft), var(--blue-pastel));
  filter:blur(.2px);
}
@media(max-width:900px){
  .hero-title::after{ width:54%; height:3px; }
}
.hero-copy{max-width:620px}
.hero-badge{background:rgba(255,255,255,.12); border-color:rgba(255,255,255,.22)}
.lead{color:var(--muted); margin:0 0 18px}

/* Make all site titles use the same color configuration as .hero-title */
.section-title,
.page-header h2,
h1,
h2,
h3{
  font-weight:800;
  background:linear-gradient(90deg, var(--orange-strong), var(--blue-strong));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:0 1px 5px rgba(255,203,164,.22), 0 1px 10px rgba(78,124,216,.18);
}

/* Settings page harmonization */
section[data-route="/settings"] #form-settings{
  /* tighter spacing inside the settings form */
  gap:8px;
}
section[data-route="/settings"] #form-settings h3{
  margin:4px 0 2px;
}
section[data-route="/settings"] #form-settings label{
  gap:6px;
}
/* smaller save button inside the settings form */
section[data-route="/settings"] #form-settings .btn{
  padding:8px 12px; border-radius:12px; font-size:13px;
}
section[data-route="/settings"] .card.stack{ gap:10px }
section[data-route="/settings"] .hstack{ gap:8px }
section[data-route="/settings"] .btn{ padding:10px 14px; border-radius:12px; font-size:14px }

/* keep settings layout stacked (one column) even on wide screens */
section[data-route="/settings"] .grid-2{ grid-template-columns:1fr !important }

/* slightly more compact fields in settings */
section[data-route="/settings"] #form-settings input,
section[data-route="/settings"] #form-settings select,
section[data-route="/settings"] #form-settings textarea{
  padding:10px 12px;
  border-radius:12px;
}

/* Dashboard child switcher and Add button alignment */
#child-switcher-box{
  /* center the selector + button row and add breathing space */
  display:flex;
  justify-content:center;
  align-items:flex-end;
  gap:12px;
  margin:8px 0 16px;
  flex-wrap:wrap;
}
#child-switcher-box label{
  /* keep compact label so control aligns nicely with the button */
  display:flex;
  flex-direction:column;
  gap:6px;
  margin:0;
}
#child-switcher-box select{
  height:44px;
  padding:10px 12px;
  border-radius:12px;
}
#child-switcher-box .btn{
  height:44px;
  display:flex;
  align-items:center;
  /* inherit padding and border-radius from .btn for consistent styling */
}
.hero-actions{display:flex; gap:12px; align-items:center; flex-wrap:wrap}
.hero-stats{display:flex; gap:12px; margin-top:12px; flex-wrap:wrap}
.hero-stats .stat{display:grid; gap:2px; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:#ffffff}
.hero-stats .stat strong{font-size:14px}
.hero-stats .stat span{font-size:12px; color:var(--muted)}
.hero-visual{position:relative; display:block; background:transparent; aspect-ratio:auto; max-height:none; overflow:visible; border-radius:0; border:none; box-shadow:none; perspective:800px}

/* Hero image (logo.png) */
.hero-image{display:block; width:min(100%, 360px); height:auto; object-fit:contain; opacity:.92; filter:saturate(1) brightness(1); animation:spinY 5s linear infinite; margin:0 auto; transform-style:preserve-3d; backface-visibility:hidden}
.hero-image:hover{opacity:1}

.mockup{position:relative; width:min(520px, 92%); border-radius:20px; padding:12px; background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06)); border:1px solid rgba(255,255,255,.25); box-shadow:0 20px 50px rgba(0,0,0,.45); backdrop-filter:blur(14px) saturate(150%)}
.mockup::before{content:""; position:absolute; inset:-4px; border-radius:22px; background:linear-gradient(120deg, rgba(142,125,255,.35), rgba(53,223,207,.28)); z-index:-1; filter:blur(10px); opacity:.8}
.mockup-header{display:flex; gap:6px; padding:6px 6px 0}
.mockup-header .dot{width:8px; height:8px; border-radius:50%; background:rgba(255,255,255,.4)}
.mockup-body{border-radius:14px; border:1px solid rgba(255,255,255,.18); background:rgba(13,16,34,.6); padding:14px; display:grid; gap:10px}
.skel{border-radius:10px; background:linear-gradient(90deg, rgba(255,255,255,.08), rgba(255,255,255,.18) 40%, rgba(255,255,255,.08)); background-size:200% 100%; animation:loading 2.2s ease-in-out infinite}
.skel-title{height:18px; width:60%}
.skel-badges{height:28px; width:80%}
.skel-chart{height:140px; background-image:linear-gradient(90deg, rgba(255,255,255,.08), rgba(255,255,255,.18) 40%, rgba(255,255,255,.08)),
  radial-gradient(4px 4px at 10% 75%, rgba(142,125,255,.6), transparent 60%),
  radial-gradient(4px 4px at 20% 65%, rgba(142,125,255,.5), transparent 60%),
  radial-gradient(4px 4px at 30% 55%, rgba(142,125,255,.45), transparent 60%),
  radial-gradient(4px 4px at 40% 60%, rgba(53,223,207,.6), transparent 60%),
  radial-gradient(4px 4px at 50% 50%, rgba(53,223,207,.5), transparent 60%),
  radial-gradient(4px 4px at 60% 40%, rgba(53,223,207,.45), transparent 60%);
  background-size:200% 100%, auto; background-blend-mode:screen}
.skel-chart.small{height:90px}
@keyframes loading { 0%{background-position:200% 0} 100%{background-position:-200% 0}}
@keyframes float {0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
/* Fast flip segment so backface is hidden < 1s per cycle (5s total) */
@keyframes spinY {
  0%, 44% { transform: rotateY(0deg); }
  50%     { transform: rotateY(180deg); }
  56%     { transform: rotateY(360deg); }
  100%    { transform: rotateY(360deg); }
}

/* Respect user preference to reduce motion */
@media (prefers-reduced-motion: reduce) {
  .hero-image{ animation: none !important; }
  .child-point-latest{ animation: none !important; }
}

.pillars{display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:12px; margin-top:20px}
.pillar{background:#ffffff; border:1px solid var(--border); border-radius:18px; padding:16px; box-shadow:var(--shadow); transition:transform .18s ease, box-shadow .25s ease, border-color .18s ease, background .25s ease}
.pillar:hover{transform:translateY(-2px); box-shadow:0 12px 28px rgba(30,50,100,.16); border-color:#d8e0f2; background:#ffffff}
.pillar h3{margin:6px 0 6px}
.pillar .pillar-icon{font-size:24px}

.btn{cursor:pointer; border:none; border-radius:16px; padding:12px 16px; font-weight:700; letter-spacing:.2px; transition:transform .15s ease, box-shadow .2s ease, background .2s ease; text-decoration:none}
.btn:hover, .btn:focus{ text-decoration:none }
a.btn, a.btn:visited, a.btn:hover, a.btn:focus{ text-decoration:none !important; outline:none }
.btn-primary{background:linear-gradient(92deg, var(--orange-strong), var(--blue-strong)); color:#ffffff; box-shadow:0 6px 16px rgba(78,124,216,.32), 0 3px 10px rgba(255,170,110,.30)}
.btn-primary:hover{transform:translateY(-2px); box-shadow:0 12px 26px rgba(78,124,216,.44), 0 6px 16px rgba(255,170,110,.38)}
.btn-secondary{background:#eef2ff; color:var(--text); border:1px solid #d6dcef}
/* Header-specific buttons on dark header */
.site-header .btn-secondary{background:rgba(255,255,255,.08); color:#e9edff; border:1px solid rgba(255,255,255,.18)}
.btn-danger{background:linear-gradient(90deg,#9e2f4b,#d93a62); color:white}
.btn:disabled{opacity:.6; cursor:not-allowed}

/* Unify all buttons with translucent HERO gradient and white text */
.btn,
.btn-primary,
.btn-secondary,
.btn-danger {
  /* Keep hero colors, just make them translucent */
  /* #ff9640 -> rgba(255,150,64,alpha), #4e7cd8 -> rgba(78,124,216,alpha) */
  background: linear-gradient(92deg, rgba(255,150,64,.34), rgba(78,124,216,.34)) !important;
  color: #ffffff !important;
  border: 1px solid transparent !important;
  box-shadow: none !important;
}
.btn:hover,
.btn-primary:hover,
.btn-secondary:hover,
.btn-danger:hover{
  transform: translateY(-2px);
  box-shadow: none !important;
  background: linear-gradient(92deg, rgba(255,150,64,.48), rgba(78,124,216,.48)) !important;
}

/* Exception: keep header login button styling as-is */
#btn-login{
  background: rgba(255,255,255,.08) !important;
  color: #ffffff !important;
  border: 1px solid rgba(255,255,255,.18) !important;
  box-shadow: none !important;
  transform: none !important;
}

/* Remove white frame around Google login areas (signup/login cards) */
section[data-route="/signup"] .card,
section[data-route="/login"] .card{
  border: none !important;
  box-shadow: none !important;
  background: transparent !important;
}

/* Remove shadow from hamburger (nav-toggle) as well */
.nav-toggle{ box-shadow: none !important; }
.nav-toggle:hover{ box-shadow: none !important; }

.card{background:linear-gradient(180deg,#ffffff,#f7f9ff); border:1px solid var(--border); border-radius:22px; padding:20px; box-shadow:var(--shadow); transition:transform .18s ease, box-shadow .25s ease, border-color .18s ease, background .25s ease}
.card:hover{transform:translateY(-3px); box-shadow:0 14px 34px rgba(30,50,100,.16); border-color:#d8e0f2; background:#ffffff}
.stack{display:grid; gap:12px}
.hstack{display:flex; gap:12px; align-items:center; flex-wrap:wrap}
.flex-between{display:flex; justify-content:space-between; align-items:center; gap:12px}
.card-header{display:grid; gap:6px}
.card-header h3,.card-header p{margin:0}

.form-grid{display:grid; gap:12px}
label{display:grid; gap:6px; font-size:14px}
input, select, textarea{width:100%; background:#ffffff; border:1px solid var(--border); color:var(--text); padding:12px 14px; border-radius:14px; outline:none}
input::placeholder, textarea::placeholder{color:#8aa0bf}
input:focus, select:focus, textarea:focus{box-shadow:0 0 0 2px rgba(138,182,255,.5); border-color:#b9cffd}
input[type="file"]{padding:8px}
input[type="checkbox"]{width:auto}
.switch{display:flex; align-items:center; gap:10px}
.muted{color:var(--muted)}

.grid-2{display:grid; gap:12px; grid-template-columns:1fr;}
@media(min-width:900px){.grid-2{grid-template-columns:1.2fr .8fr}}

.route{display:none; padding:24px 0; position:relative; z-index:0}
.route.active{display:block}

.chip{display:inline-flex; align-items:center; gap:6px; border:1px solid var(--border); background:#ffffff; padding:6px 12px; border-radius:999px; font-size:12px}

.qgrid{display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:10px}
.qitem{border:1px solid var(--border); background:linear-gradient(180deg,#ffffff,#f7f9ff); border-radius:22px; padding:12px; display:grid; gap:8px; box-shadow:var(--shadow); transition:transform .18s ease, box-shadow .25s ease, border-color .18s ease, background .25s ease}
.qitem:hover{transform:translateY(-2px); box-shadow:0 12px 26px rgba(30,50,100,.16); border-color:#d8e0f2; background:#ffffff}
.qitem .qtitle{font-weight:600}

 .badge{display:inline-flex; align-items:center; gap:6px; background:rgba(255,255,255,.1); border:1px solid var(--border); padding:6px 10px; border-radius:12px; font-size:12px; line-height:1}
 .badge.done{background:rgba(45,192,122,.12); border-color:var(--ok); color:var(--ok)}
 .badge.done::before{content:""; display:inline-block; width:6px; height:12px; border-right:2px solid currentColor; border-bottom:2px solid currentColor; transform:rotate(45deg)}

/* Forum */
.topic{border:1px solid var(--border); background:linear-gradient(180deg,#ffffff,#f7f9ff); border-radius:22px; padding:12px; box-shadow:var(--shadow); transition:transform .18s ease, box-shadow .25s ease, border-color .18s ease, background .25s ease}
.topic:hover{transform:translateY(-2px); box-shadow:0 12px 26px rgba(30,50,100,.16); border-color:#d8e0f2; background:#ffffff}
.reply{border-left:3px solid rgba(255,255,255,.15); margin-left:8px; padding-left:10px; opacity:.9}

/* Dialog */
.dialog{border:1px solid var(--border); background:linear-gradient(180deg,#ffffff,#f7f9ff); border-radius:22px; padding:0; max-width:min(1100px, 98%); box-shadow:var(--shadow)}
.dialog::backdrop{background:rgba(0,0,0,.5)}
.dialog .form-grid{padding:16px}
.dialog-actions{display:flex; gap:10px; justify-content:flex-end; padding:8px 0 0}

/* Charts */
.chart-card{padding:0; display:grid; gap:6px}
.chart-header{display:flex; justify-content:space-between; align-items:center; padding:12px 16px 0}
.chart-legend{display:flex; gap:8px}
.legend-item{display:flex; align-items:center; gap:4px; font-size:12px; background:rgba(255,255,255,.06); padding:2px 8px; border-radius:12px}
.legend-dot{width:10px; height:10px; border-radius:50%; border:1px solid rgba(0,0,0,.1)}
.chart{display:block; width:100%; height:240px}
.chart-note{padding:0 16px 12px; font-size:12px; color:var(--muted); border-top:1px solid var(--border)}

/* Dashboard: center first profile card and its contents */
/* Dashboard: center profile card and single-card rows */
section[data-route="/dashboard"] .grid-2 > .card.stack:first-child{
  grid-column: 1 / -1;
  margin-inline: auto;
  text-align: center;
}
section[data-route="/dashboard"] .grid-2 > .card.stack:first-child .hstack{ justify-content: center }
section[data-route="/dashboard"] .grid-2 > .card.stack:only-child{
  grid-column: 1 / -1;
  margin-inline: auto;
  text-align: center;
}
section[data-route="/dashboard"] .grid-2 > .card.stack:only-child .hstack{ justify-content: center }

/* Dashboard: remove frames/rounding from chart blocks */
section[data-route="/dashboard"] .chart-card{
  border:none !important;
  border-radius:0 !important;
  background:transparent !important;
}
.child-point{stroke:#ffffff; stroke-width:1.5}
.child-point-latest{animation:breathe 2s ease-in-out infinite; transform-box:fill-box; transform-origin:center}
@keyframes breathe{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.4);opacity:.5}}

/* Landing sections */
.section{position:relative; padding:32px 0; overflow:visible}
.hero + .section{padding-top:44px}
@media(max-width:900px){.hero + .section{padding-top:8px}}

/* Alternance de fond des sections sur la page d'accueil (full-bleed)
   Commence à partir de "Fonctionnalités clés" (1ère .section)
   Étend le fond jusqu'aux bords de la fenêtre via ::before en 100vw */
section[data-route="/"] > :nth-child(odd of .section){
  position: relative;
}
section[data-route="/"] > :nth-child(odd of .section)::before{
  display:none !important;
}

/* Canvas for section particles */
.section-canvas{position:absolute; inset:0; width:100%; height:100%; pointer-events:none; z-index:0; opacity:.6}
.route-canvas{position:absolute; inset:0; width:100%; height:100%; pointer-events:none; z-index:0; opacity:.6}
.logo-canvas{position:absolute; inset:0; width:100%; height:100%; pointer-events:none; z-index:0; opacity:.6}
/* Dashboard full-viewport canvas (fixed, no stretch) */
.route-canvas-fixed{position:fixed; inset:0; width:100vw; height:100vh; pointer-events:none; z-index:0; opacity:.6}
/* Ensure main content and footer sit above the fixed canvas */
#app{position:relative; z-index:1}
.site-footer{position:relative; z-index:1}
.section.alt{background:transparent; border-top:none; border-bottom:none}
.section-title{margin:0 0 8px; font-size:clamp(24px, 3.4vw, 32px); text-align:center; font-weight:800}
.section-subtitle{margin:0 0 24px; color:var(--muted); text-align:center}
.page-header{display:grid; gap:6px; justify-items:center; text-align:center; margin:4px 0 18px}
.page-header h2{margin:0; font-size:clamp(26px, 3.6vw, 34px); font-weight:800}
.page-subtitle{margin:0; color:var(--muted)}
.page-actions{margin-top:12px; display:grid; gap:14px}
@media(max-width:900px){
  #forum-cats{justify-content:center}
}
.features{display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:12px}
.feature{background:linear-gradient(180deg,#ffffff,#f7f9ff); border:1px solid var(--border); border-radius:22px; padding:16px; box-shadow:var(--shadow); transition:transform .18s ease, box-shadow .25s ease, border-color .18s ease, background .25s ease; text-align:center; display:grid; gap:4px}
.feature:hover{transform:translateY(-3px); box-shadow:0 14px 34px rgba(30,50,100,.16); border-color:#d8e0f2; background:#ffffff}
.feature-ico{width:56px; height:56px; display:grid; place-items:center; font-size:30px; border-radius:50%; background:linear-gradient(92deg, rgba(255,150,64,.34), rgba(78,124,216,.34)); color:var(--text-inverse); margin:0 auto 2px}
.feature h3,.feature p{margin:0}
.steps{display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:16px}
.step{background:linear-gradient(180deg,#ffffff,#f7f9ff); border:1px solid var(--border); border-radius:22px; padding:24px; box-shadow:var(--shadow); transition:transform .18s ease, box-shadow .25s ease, border-color .18s ease, background .25s ease; text-align:center; display:grid; gap:4px}
.step:hover{transform:translateY(-2px); box-shadow:0 12px 28px rgba(30,50,100,.16); border-color:#d8e0f2; background:#ffffff}
.step-num{width:40px; height:40px; display:grid; place-items:center; border-radius:50%; background:linear-gradient(92deg,var(--orange-strong), var(--blue-strong)); color:#ffffff; box-shadow:0 6px 16px rgba(78,124,216,.32), 0 3px 10px rgba(255,170,110,.30); font-weight:700; margin:0 auto 2px}
.step h3,.step p{margin:0}

/* IA tools layout */
section[data-route="/ai"] > .stack{gap:20px}
section[data-route="/ai"] .card, section[data-route="/ai"] .card:hover{box-shadow:none; transform:none}
/* On AI page, force gray (muted) texts to white */
section[data-route="/ai"]{ --muted: #ffffff; }
/* On AI page, remove frames from all section cards */
section[data-route="/ai"] .card{
  border: none !important;
  box-shadow: none !important;
  background: transparent !important;
}
/* Exception: keep a frame for the profile indicator empty state */
section[data-route="/ai"] #ai-profile-indicator{
  border: 1px solid var(--border) !important;
  box-shadow: none !important;
  background: transparent !important;
}
/* Make only the “Créer un profil” link orange inside the indicator */
section[data-route="/ai"] #ai-profile-indicator a[href*="/onboarding"]{
  color: var(--orange-strong) !important;
}
/* AI page: thin separators between consecutive feature sections */
section[data-route="/ai"] > .stack > .card + .card{ position: relative; }
section[data-route="/ai"] > .stack > .card + .card::before{
  content:""; position:absolute; top:-12px; left:0; right:0; height:1px;
  background: rgba(255,255,255,.16);
}
/* AI page: make section titles as large as the page title and centered */
section[data-route="/ai"] .card-header{ text-align:center; align-items:center; }
section[data-route="/ai"] .card-header h3{
  font-size: clamp(26px, 3.6vw, 34px);
  font-weight: 800;
}
section[data-route="/ai"] .card-header p{ text-align:center; }
.testimonials{display:grid; grid-template-columns:repeat(auto-fit, minmax(260px,1fr)); gap:16px}
.testimonial{position:relative; overflow:hidden; background:linear-gradient(180deg,#ffffff,#f7f9ff); border:1px solid var(--border); border-radius:22px; padding:18px 18px 14px; box-shadow:var(--shadow); transition:transform .18s ease, box-shadow .25s ease, border-color .18s ease, background .25s ease}
.testimonial::before{content:"\201C"; position:absolute; top:-6px; left:12px; font-size:64px; line-height:1; background:linear-gradient(92deg, var(--orange-strong), var(--blue-strong)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; opacity:.18; pointer-events:none}
.testimonial:hover{transform:translateY(-3px); box-shadow:0 14px 34px rgba(30,50,100,.18); border-color:#d8e0f2; background:#ffffff}
.testimonial p{margin:0 0 8px; font-style:italic; font-size:15px; color:var(--text); opacity:.95}
.testimonial .who{color:var(--muted); font-size:12px; font-weight:600}
.faq{display:grid; gap:12px; grid-template-columns:repeat(auto-fit, minmax(300px,1fr))}
.faq-item{border:1px solid var(--border); border-radius:16px; background:#fff; box-shadow:var(--shadow); overflow:hidden}
.faq-item > summary{padding:14px 16px; font-weight:400; cursor:pointer; list-style:none; color:var(--text); position:relative}
.faq-item > summary::-webkit-details-marker{display:none}
.faq-item > summary::after{content:'+'; position:absolute; right:16px; top:50%; transform:translateY(-50%); color:var(--muted); transition:transform .2s ease}
.faq-item[open] > summary::after{content:'–'}
.faq-item > p{margin:0; padding:0 16px 16px; color:var(--muted)}
.cta-banner{padding:24px 0}
.cta-inner{background:linear-gradient(120deg, rgba(142,125,255,.25), rgba(53,223,207,.2)); border:1px solid var(--border); border-radius:20px; padding:24px; display:grid; place-items:center; text-align:center; backdrop-filter:blur(8px)}

/* Utilities */
.hidden{display:none !important}
[hidden]{display:none !important}

/* Chat UI */
.chat-card{background:linear-gradient(145deg,#1e1e1e,#2b2b2b); border:1px solid rgba(255,255,255,.15); border-radius:24px; box-shadow:0 12px 32px rgba(0,0,0,.45)}
.chat-window{display:grid; grid-template-rows:1fr auto; gap:12px; height:360px; border:1px solid rgba(255,255,255,.15); border-radius:20px; padding:12px; background:rgba(255,255,255,.05); box-shadow:0 8px 24px rgba(0,0,0,.3); backdrop-filter:blur(8px); -webkit-backdrop-filter:blur(8px)}
.chat-messages{overflow-y:auto; padding:0; display:flex; flex-direction:column; gap:12px}
.chat-line{display:flex; align-items:flex-end; gap:8px}
.chat-line.user{flex-direction:row-reverse}
.chat-line .avatar{flex:0 0 32px; width:32px; height:32px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:18px; background:rgba(255,255,255,.1)}
.chat-line.user .avatar{background:linear-gradient(135deg,var(--orange-strong),var(--blue-strong))}
.chat-line .message{display:flex; flex-direction:column; max-width:80%}
.chat-line.user .message{align-items:flex-end}
.chat-line.assistant .message{align-items:flex-start}
.chat-input{display:flex; flex-direction:column; gap:8px}
.chat-row{display:flex; gap:8px; align-items:flex-end}
.chat-send{display:flex; align-items:center; justify-content:center}
.chat-textarea{width:100%; resize:none; min-height:44px; max-height:120px; padding:12px 16px; border:1px solid rgba(255,255,255,.15); border-radius:20px; background:rgba(0,0,0,.25); color:#ffffff}
.chat-textarea:focus{outline:none; border-color:var(--orange-strong); background:rgba(0,0,0,.35)}
.chat-actions{display:flex; justify-content:space-between; align-items:center; gap:10px}
.chat-reset{justify-self:end}
.bubble{max-width:100%; padding:12px 16px; border-radius:20px; line-height:1.4; color:#ffffff}
.bubble.assistant{background:rgba(255,255,255,.08); border:none}
.bubble.user{background:linear-gradient(135deg,var(--orange-strong),var(--violet-strong)); border:none}
.chat-messages .meta{font-size:11px; color:var(--muted); margin-bottom:2px}
.chat-line.user .meta{text-align:right}
.typing{display:flex; gap:4px}
.typing span{width:8px; height:8px; background:rgba(255,255,255,.6); border-radius:50%; animation:typing 1s infinite}
.typing span:nth-child(2){animation-delay:.2s}
.typing span:nth-child(3){animation-delay:.4s}
@keyframes typing{0%,80%,100%{opacity:.2}40%{opacity:1}}

/* Reveal-on-scroll animations */
.reveal{opacity:0; transform:translateY(12px); transition:opacity .6s ease, transform .6s ease; will-change:opacity, transform}
.reveal.fade-in{transform:none}
.reveal.fade-right{transform:translateX(-12px)}
.reveal.in-view{opacity:1; transform:none}
.reveal[data-delay="1"]{transition-delay:.06s}
.reveal[data-delay="2"]{transition-delay:.12s}
.reveal[data-delay="3"]{transition-delay:.18s}
.reveal[data-delay="4"]{transition-delay:.24s}

@media (prefers-reduced-motion: reduce){
  *{animation:none !important; transition:none !important}
  .reveal{opacity:1 !important; transform:none !important}
}

/* Mobile adaptations */
@media(max-width:900px){
  .container{width:94%}
  .container{overflow-x:hidden}
  .header-inner{position:relative}
  /* Header: rely on body.force-mobile for hamburger/menu behavior */
  .hero-content{grid-template-columns:1fr; position:static}
  .hero-copy{position:static; z-index:auto; display:grid; gap:10px; align-content:start; justify-items:start; padding:0; text-align:left}
  .hero-actions .btn{width:auto}
  .hero-visual{display:block; position:static; margin-top:12px; width:100%; background:none; height:auto; max-height:none; overflow:visible; border-radius:0; border:none; box-shadow:none; perspective:800px}
  .hero-visual::after{display:none}
  .hero-image{display:block; object-fit:contain; width:min(100%, 300px); height:auto; margin:0 auto; animation:spinY 5s linear infinite}
  .hero-stats{display:none}
  .chart{height:200px}
}

/* Force mobile menu when not enough space (JS toggles body.force-mobile) */
body.force-mobile .nav-toggle{display:inline-flex}
/* Mobile hamburger menu — full-screen, centered, translucent pills */
body.force-mobile .main-nav{
  position:fixed; inset:0;
  display:grid; place-items:center;
  background:transparent; /* rely on backdrop */
  border:none; box-shadow:none;
  /* Add extra top padding to clear the header area visually */
  padding: calc(72px + env(safe-area-inset-top)) 12px calc(18px + env(safe-area-inset-bottom));
  z-index:90;
  backdrop-filter:none; -webkit-backdrop-filter:none;
  transform:translateY(-100%);
  opacity:0;
  pointer-events:none;
  transition: transform .3s ease, opacity .3s ease;
}
body.force-mobile .main-nav.open{transform:translateY(0); opacity:1; pointer-events:auto}
body.force-mobile .main-nav.open .nav-ico{display:none}
body.force-mobile .main-nav .nav-link{
  display:block;
  width:min(86vw, 360px);
  padding:14px 18px;
  margin:8px 0;
  border-radius:999px;
  color:var(--orange-strong) !important;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.14);
  text-align:center;
  font-weight:700; letter-spacing:.2px;
  text-decoration:none;
}
body.force-mobile .main-nav .nav-link.active{
  background:linear-gradient(180deg, rgba(255,165,100,.18), rgba(255,165,100,.10));
  border-color:var(--orange-strong);
}
body.force-mobile .main-nav .nav-link:hover{background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05))}
body.force-mobile .main-nav .nav-link:focus-visible{outline:none; box-shadow:inset 0 0 0 2px rgba(255,255,255,.25)}
body.force-mobile .main-nav a.nav-link + a.nav-link{ border-top:none }

/* Pro styling for mobile hamburger menu */
/* strengthen backdrop of the overlay */
.nav-backdrop{background:rgba(0,0,0,.45); backdrop-filter:blur(14px) saturate(140%)}

/* Subtle, professional toggle style on mobile */
body.force-mobile .nav-toggle{
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.18);
  color: #ffffff;
  position: relative;
  z-index: 200;
}

/* Make section blocks transparent (cards, features, steps, etc.) */
.card, .card:hover,
.feature, .feature:hover,
.step, .step:hover,
.qitem, .qitem:hover,
.topic, .topic:hover,
.dialog,
.faq-item,
.testimonial, .testimonial:hover,
.pillar, .pillar:hover,
.hero-stats .stat{
  background: transparent !important;
}

/* Make all textual content white and ensure readability on dark */
.section-title,
.page-header h2,
h1, h2, h3 {
  color:#ffffff !important;
  background:none !important;
  -webkit-background-clip:initial !important;
  -webkit-text-fill-color:#ffffff !important;
  text-shadow:none !important;
}
.hero-title{ background:none !important; -webkit-text-fill-color:#ffffff !important; text-shadow:none !important; }
/* Home hero title in orange */
section[data-route="/"] .hero-title{
  color: var(--orange-strong) !important;
  -webkit-text-fill-color: var(--orange-strong) !important;
}
/* Recolor the small underline under the hero title to orange gradient */
section[data-route="/"] .hero-title::after{
  background: linear-gradient(90deg, var(--orange-strong), var(--orange)) !important;
}


/* Section titles in orange across the site */
.section-title,
.page-header h2{
  color: var(--orange-strong) !important;
  -webkit-text-fill-color: var(--orange-strong) !important;
  background: none !important;
  text-shadow: none !important;
}

/* Internal headings (cards, features, steps, charts) in orange */
.card h3,
.card-header h3,
.feature h3,
.step h3,
.chart-header h3,
h3{
  color: var(--orange-strong) !important;
  -webkit-text-fill-color: var(--orange-strong) !important;
}
/* h4 as well (subsection headings) */
.card h4,
.card-header h4,
.feature h4,
.step h4,
.chart-header h4,
h4{
  color: var(--orange-strong) !important;
  -webkit-text-fill-color: var(--orange-strong) !important;
}
/* Make home hero title orange as requested */
section[data-route="/"] .hero-title{
  color: var(--orange-strong) !important;
  -webkit-text-fill-color: var(--orange-strong) !important;
}

/* Chips readable on dark */
.chip{ background:rgba(255,255,255,.08); color:#ffffff; border-color:rgba(255,255,255,.18) }

/* Inputs readable on dark */
input, select, textarea{
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.22);
  color:#ffffff;
}
input::placeholder, textarea::placeholder{ color:rgba(255,255,255,.55) }

/* Header status text */
.login-status{ color: var(--ok) !important }

/* Footer links white */
.fs-link{ color:#ffffff }
.fs-year{ color:var(--muted) }

/* Settings page: make delete buttons burgundy translucent */
section[data-route="/settings"] .btn-danger{
  background: linear-gradient(180deg, rgba(158,47,75,.34), rgba(217,58,98,.34)) !important;
  border: 1px solid rgba(217,58,98,.42) !important;
  color: #ffffff !important;
}
section[data-route="/settings"] .btn-danger:hover{
  background: linear-gradient(180deg, rgba(158,47,75,.48), rgba(217,58,98,.48)) !important;
}

/* Community page: apply same burgundy style to "Supprimer le sujet" */
section[data-route="/community"] .btn-danger{
  background: linear-gradient(180deg, rgba(158,47,75,.34), rgba(217,58,98,.34)) !important;
  border: 1px solid rgba(217,58,98,.42) !important;
  color: #ffffff !important;
}
section[data-route="/community"] .btn-danger:hover{
  background: linear-gradient(180deg, rgba(158,47,75,.48), rgba(217,58,98,.48)) !important;
}

/* Footer links (À propos, Contact, Mentions légales, Confidentialité) in orange and bold */
.site-footer .fs-right .fs-link{ color: var(--orange-strong) !important; font-weight:700; }
.site-footer .fs-right .fs-link:hover{ color: var(--orange-strong) !important; text-decoration: underline; }
